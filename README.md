# Приложение для создания и редактирования информации о встречах сотрудников. 3-ое задание

## Задание
Написать приложение.

## Запуск

Нужно склонировать репозиторий и открыть две вкладки. В одной открыть папку client, в другой - server. 

В папке server:

```
npm i
npm run reset-db
npm run dev
```

В папке client:

```
npm i
npm start
```


## Стек технологий
В ходе выполнения задания для создания компонентов части были использованы React + Redux, стили написаны на чистом css.

## Что я не успел реализовать
1) При создании/изменении event'а не реализована валидация. Event можно создать на любое, пусть даже не валидное время, можно создать event с пустым именем и т.д.

2) Тултип с информацие о событии при клике на нем находится под линией, показывающей текущее время. Для исправления нужно либо выносить тултип на уровень выше, либо линию времени, чтобы их z-index не заивисил от родителя.

3) Не успел разобраться, как исправить плохую производительность движения labels комнат при горизонтальном скролле в мобильных браузерах.

4) При загрузке главной страницы я получаю все события и уже на клиенте отбрасываю соытия с ненужной датой. Нужно реализовать прием даты event'а на сервере.

5) Тесты

6) Функция getRecommendations реализована на 50% (появляются рекоммендации только если есть свободные на выбранное время комнаты, перестановок других комнат нет)

## Процесс разработки

В ходе работы над третьим заданием помимо биндинга данных была изменена структура некоторых компонентов, многие разбивались на несколько файлов, т.к. кода становилось все больше. Функцию поиска промежутков свободного времени я вынес в свой первый в жизни npm-module: [add-free-time-between-ranges] (https://www.npmjs.com/package/add-free-time-between-ranges). Пока это черновая версия, нужно будем заняться им в будущем.

Reducers были поделены на ui и server-data и actions на ui-actions и server-actions для удобства навигации.

## Функция getRecommendations

Функция на данный момент реализована не полностью. Рекоммендации показываются только в том случае, если есть комнаты, свободные в данное время. Показываются рекоммендации по уменьшению рейтинга. Каждая комната имеет свой рейтинг, чем он меньше - тем комната больше подходит (наверное это не слишком логично, нужно будет сделать наоборот).

Рейтинг комнаты определяется в зависимости от двух показателей: рейтинг по вместимости и рейтинг по этажу.

А: Рейтинг по вместимости = вместимость комнаты - количество пользователей в планируемом событии.

Б: Рейтинг по этажу = модуль от (среднее арифметическое среди этажей выбранных пользователей - этаж комнаты)

Общий рейтинг комнаты = A + B + ( (Модуль(A-B))/100  )

Последнее слагаемое добавлено для регуляризации в случаях, когда рейтинги равны. В таких случаях мы предпочтем комнату с рейтингами 7 и 8 комнате с рейтингами 15 и 0.

Возможный недостаток формулы в том, что формулы A и B не отмасштабированы и могут измеряться различными диапазонами. Скорее всего, вместимость комнат в офисе Яндекса значительно больше количества этажей. Однако я допустил такое упрощение. Пусть вместимость влияет на рейтинг больше, ведь это более важный показатель, ведь я думаю у вас там есть лифты).
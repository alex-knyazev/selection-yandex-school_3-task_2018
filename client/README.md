# Приложение для создания и редактирования информации о встречах сотрудников. 2-ое задание

## Задание
Сверстать по данному макету.

## Запуск
```
npm i
npm start
```

## Адреса

http://localhost:3000/ - главная
http://localhost:3000/editEvent - редактирование event
http://localhost:3000/createEvent - создание event

## Стек технологий
В ходе выполнения задания для создания компонентов части были использованы React + Redux, стили написаны на чистом css.

## Дневник разработчика

### Выбор технологий
За свою небольшую карьеру в качестве веб-разработчика мне приходилось разрабатывать клиентскую часть сайтов на `html+css+javascript+Jquery` и на `React`. Поэтому особо сложного решения в выборе технологий для меня не было, я выбрал React.js

Наулучшее, по моему опыту, решение для быстрого старта и удобной разработки - `Create React App`. Мне помогли идущие с ним из коробки модули, loaders и т.д. Очень удобно, что не нужно тратить время на настраивание Webpack.

### Способы организации 

#### Стили
На начальном этапе разработки я не удалели должного внимания способу организации css, что привело к дублированию классов в различных местах. Затем я прочитал про БЭМ, но использовать его не стал, так как в рамках данного небольшого проекта я посчитал это слишком сложным. Я решил просто использовать те же класссы, только перед каждым классом в css уточнять родительские компоненты. Безусловно, мне нужно будет изучить различные способы организации стилей и придерживаться одной из них в будущем.

#### Компоненты
Способов организации структуры react-компонентов существует немало. У каждого есть свои минусы:

При иерархическом подходе ты получаешь логичную структуру файлов, приближенную к бизнес-логике, но приходится забыть о повторном использовании компонентов и включать очень длинные цепочки './../../...'  в import. 
При создании более плоской файловой структуры довольно сложной становится навигация по проекту.

Разбиение всех компонентов на containers и components - довольно удачное решение, если научиться правильно относить компонент к одному из двух видов.
 
Т.к. в нашем приложении компоненты преимущественно различаются, нам не стоит беспокоиться о проблеме их повторного использования. Также проблема излишней вложенности не стоит остро благодаря испоьзованию Redux (мы имеем доступ к глобальному хранилищу из любого компонента) . Поэтому я решил использовать более понятную для глаза иерархическую структуру компонентов.

### Главные проблемы, с которыми пришлось столкнуться во время верстки

### Сетка
Создание сетки ожидаемо стало для меня самой сложной задачей в данном задании. То, что на первый взгляд, кажется таблицей, как оказывается, совсем ей не является. После несколькиз неудачных попыток родилась работающая идея: 
Расписание представляет из себя две css-grid колонки, каждая имеет ширину `100% экрана`. Но  правая колонка сдвигается влево на ширину `100%  - ширина левой колонки`. Правая колонка - это расчерченная вертикальными линиями сетка, а левая включает в себя этажы, их комнаты и проводящиеся в них events. Расписание events накладывается на сетку.
Главное условие для реализации этой идеи мы должны при расчете нескольких css-свойств знать ширину левой колонки. Поэтому я задал ее в css-переменной.

### Закрепление шапки, выбора даты и названий комнат при горизонтальном скролле
Вначале я вешал событие на scroll страницы и при каждом срабатывании этого события сдвигал блоки на колическтво проскролленных пикселей. Как оказалось, это работает хорошо только на PC. Мой android имеет проблемы с отрисовкой подобной анимации.  Я вышел из ситуации так: 
 - шапка имеет position: fixed и самый маленький z-index, при вертикальном скролле она просто скрывается за другими элементами.
 - выбор даты имеет position fixed на мобильных экранах и при скролле вниз на него повешено событие смещения вверх на высоту шапки. Т.о. блок становится на место, где была шапка при вертикальном скролле.
 - к сожалению, в случае с названиями комнат я не смог придумать ничего для улучшения производительности. Я лишь добавил transition-duration,чтобы смещение проходило плавнее.

### Установление высоты линии, показывающей текущее время.
Линия находится,что логично, в блоке с часами и позиционируется относительно него. Поэтому я использую refs чтобы высчитать высоту расписания, записываю эту высоту в redux - store, и ставлю эту высоту для синей линии.